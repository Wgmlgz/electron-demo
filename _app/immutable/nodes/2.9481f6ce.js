import{S as At,i as Ot,s as Ft,k as N,q as ne,a as ce,l as z,m as R,r as oe,h as A,c as ue,n as j,J as I,b as We,G as T,u as se,H as vt,K as Zt,L as dt,g as ke,f as pr,d as Ve,M as wr,o as yr,w as Nt,N as br,y as xr,z as _r,A as Sr,O as Tr,B as Er,v as Cr}from"../chunks/index.cc0eaa49.js";const Ir=.1;function mt(t,e,r){const a=t.slice();return a[4]=e[r],a}function ht(t){let e,r,a=t[4]+"",s,u;return{c(){e=N("div"),r=N("h3"),s=ne(a),u=ce(),this.h()},l(o){e=z(o,"DIV",{class:!0});var f=R(e);r=z(f,"H3",{class:!0});var h=R(r);s=oe(h,a),h.forEach(A),u=ue(f),f.forEach(A),this.h()},h(){j(r,"class","svelte-w3rv60"),I(r,"hide",t[1]),j(e,"class","box aspect-ratio-1/1 grid items-center justify-items-center svelte-w3rv60"),I(e,"box-err",t[4].endsWith("-")),I(e,"box-ok",t[4].endsWith("+")),I(e,"box-hide",t[1])},m(o,f){We(o,e,f),T(e,r),T(r,s),T(e,u)},p(o,f){f&1&&a!==(a=o[4]+"")&&se(s,a),f&2&&I(r,"hide",o[1]),f&5&&I(e,"box-err",o[4].endsWith("-")),f&5&&I(e,"box-ok",o[4].endsWith("+")),f&2&&I(e,"box-hide",o[1])},d(o){o&&A(e)}}}function Dr(t){let e,r,a,s=t[0].date.toDateString()+"",u,o,f,h,d,g=t[0].deviceId+"",c,p,m,_,M=t[0].currentSessionId+"",B,S,V,Y=t[0].engineId+"",K,J,Z,W,L,D,P,U=t[0].shardId+"",O,F=t[2](t[0].actions,5,""),k=[];for(let w=0;w<F.length;w+=1)k[w]=ht(mt(t,F,w));return{c(){e=N("div"),r=N("div"),a=N("h2"),u=ne(s),o=ce(),f=N("div"),h=N("div"),d=N("h2"),c=ne(g),p=ce(),m=N("div"),_=N("p"),B=ne(M),S=ce(),V=N("p"),K=ne(Y),J=ce(),Z=N("div");for(let w=0;w<k.length;w+=1)k[w].c();W=ce(),L=N("div"),D=N("h2"),P=ne("shrd: "),O=ne(U),this.h()},l(w){e=z(w,"DIV",{class:!0});var x=R(e);r=z(x,"DIV",{class:!0});var b=R(r);a=z(b,"H2",{class:!0});var $=R(a);u=oe($,s),$.forEach(A),b.forEach(A),o=ue(x),f=z(x,"DIV",{class:!0});var Q=R(f);h=z(Q,"DIV",{class:!0});var H=R(h);d=z(H,"H2",{class:!0});var ee=R(d);c=oe(ee,g),ee.forEach(A),p=ue(H),m=z(H,"DIV",{});var G=R(m);_=z(G,"P",{});var de=R(_);B=oe(de,M),de.forEach(A),S=ue(G),V=z(G,"P",{});var me=R(V);K=oe(me,Y),me.forEach(A),G.forEach(A),H.forEach(A),Q.forEach(A),J=ue(x),Z=z(x,"DIV",{class:!0});var he=R(Z);for(let pe=0;pe<k.length;pe+=1)k[pe].l(he);he.forEach(A),W=ue(x),L=z(x,"DIV",{class:!0});var _e=R(L);D=z(_e,"H2",{class:!0});var ge=R(D);P=oe(ge,"shrd: "),O=oe(ge,U),ge.forEach(A),_e.forEach(A),x.forEach(A),this.h()},h(){j(a,"class","svelte-w3rv60"),I(a,"hide",t[1]),j(r,"class","box box-primary svelte-w3rv60"),I(r,"box-hide",t[1]),j(d,"class","grow"),j(h,"class","flex gap-2 justify-items-center items-center svelte-w3rv60"),I(h,"hide",t[1]),j(f,"class","box box-secondary svelte-w3rv60"),I(f,"box-hide",t[1]),j(Z,"class","grid grid-cols-5"),I(Z,"gap-x-2",!t[1]),j(D,"class","svelte-w3rv60"),I(D,"hide",t[1]),j(L,"class","box svelte-w3rv60"),I(L,"box-hide",t[1]),j(e,"class","flex flex-col"),I(e,"gap-2",!t[1])},m(w,x){We(w,e,x),T(e,r),T(r,a),T(a,u),T(e,o),T(e,f),T(f,h),T(h,d),T(d,c),T(h,p),T(h,m),T(m,_),T(_,B),T(m,S),T(m,V),T(V,K),T(e,J),T(e,Z);for(let b=0;b<k.length;b+=1)k[b]&&k[b].m(Z,null);T(e,W),T(e,L),T(L,D),T(D,P),T(D,O)},p(w,[x]){if(x&1&&s!==(s=w[0].date.toDateString()+"")&&se(u,s),x&2&&I(a,"hide",w[1]),x&2&&I(r,"box-hide",w[1]),x&1&&g!==(g=w[0].deviceId+"")&&se(c,g),x&1&&M!==(M=w[0].currentSessionId+"")&&se(B,M),x&1&&Y!==(Y=w[0].engineId+"")&&se(K,Y),x&2&&I(h,"hide",w[1]),x&2&&I(f,"box-hide",w[1]),x&7){F=w[2](w[0].actions,5,"");let b;for(b=0;b<F.length;b+=1){const $=mt(w,F,b);k[b]?k[b].p($,x):(k[b]=ht($),k[b].c(),k[b].m(Z,null))}for(;b<k.length;b+=1)k[b].d(1);k.length=F.length}x&2&&I(Z,"gap-x-2",!w[1]),x&1&&U!==(U=w[0].shardId+"")&&se(O,U),x&2&&I(D,"hide",w[1]),x&2&&I(L,"box-hide",w[1]),x&2&&I(e,"gap-2",!w[1])},i:vt,o:vt,d(w){w&&A(e),Zt(k,w)}}}function Mr(t,e,r){let{device:a}=e,{scale:s}=e,u=!1;const o=(f,h=5,d)=>{let g=[...f];for(let c=0;c<h-g.length;++c)g.unshift(d);return g.slice(g.length-h)};return t.$$set=f=>{"device"in f&&r(0,a=f.device),"scale"in f&&r(3,s=f.scale)},t.$$.update=()=>{t.$$.dirty&8&&r(1,u=s<=Ir)},[a,u,o,s]}class Br extends At{constructor(e){super(),Ot(this,e,Mr,Dr,Ft,{device:0,scale:3})}}function kr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Oe={exports:{}};Oe.exports=zt;Oe.exports.addWheelListener=zt;Oe.exports.removeWheelListener=Ar;function zt(t,e,r){t.addEventListener("wheel",e,r)}function Ar(t,e,r){t.removeEventListener("wheel",e,r)}var Or=Oe.exports,Fe={exports:{}},Fr=4,Zr=.001,Nr=1e-7,zr=10,xe=11,De=1/(xe-1),Rr=typeof Float32Array=="function";function Rt(t,e){return 1-3*e+3*t}function Lt(t,e){return 3*e-6*t}function Pt(t){return 3*t}function Ae(t,e,r){return((Rt(e,r)*t+Lt(e,r))*t+Pt(e))*t}function qt(t,e,r){return 3*Rt(e,r)*t*t+2*Lt(e,r)*t+Pt(e)}function Lr(t,e,r,a,s){var u,o,f=0;do o=e+(r-e)/2,u=Ae(o,a,s)-t,u>0?r=o:e=o;while(Math.abs(u)>Nr&&++f<zr);return o}function Pr(t,e,r,a){for(var s=0;s<Fr;++s){var u=qt(e,r,a);if(u===0)return e;var o=Ae(e,r,a)-t;e-=o/u}return e}function qr(t){return t}var Vr=function(e,r,a,s){if(!(0<=e&&e<=1&&0<=a&&a<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===r&&a===s)return qr;for(var u=Rr?new Float32Array(xe):new Array(xe),o=0;o<xe;++o)u[o]=Ae(o*De,e,a);function f(h){for(var d=0,g=1,c=xe-1;g!==c&&u[g]<=h;++g)d+=De;--g;var p=(h-u[g])/(u[g+1]-u[g]),m=d+p*De,_=qt(m,e,a);return _>=Zr?Pr(h,m,e,a):_===0?m:Lr(h,d,d+De,e,a)}return function(d){return d===0?0:d===1?1:Ae(f(d),r,s)}},be=Vr,gt={ease:be(.25,.1,.25,1),easeIn:be(.42,0,1,1),easeOut:be(0,0,.58,1),easeInOut:be(.42,0,.58,1),linear:be(0,0,1,1)};Fe.exports=Wr;Fe.exports.makeAggregateRaf=Vt;Fe.exports.sharedScheduler=Vt();function Wr(t,e,r){var a=Object.create(null),s=Object.create(null);r=r||{};var u=typeof r.easing=="function"?r.easing:gt[r.easing];u||(r.easing&&console.warn("Unknown easing function in amator: "+r.easing),u=gt.ease);var o=typeof r.step=="function"?r.step:pt,f=typeof r.done=="function"?r.done:pt,h=jr(r.scheduler),d=Object.keys(e);d.forEach(function(S){a[S]=t[S],s[S]=e[S]-t[S]});var g=typeof r.duration=="number"?r.duration:400,c=Math.max(1,g*.06),p,m=0;return p=h.next(M),{cancel:_};function _(){h.cancel(p),p=0}function M(){var S=u(m/c);m+=1,B(S),m<=c?(p=h.next(M),o(t)):(p=0,setTimeout(function(){f(t)},0))}function B(S){d.forEach(function(V){t[V]=s[V]*S+a[V]})}}function pt(){}function jr(t){if(!t){var e=typeof window<"u"&&window.requestAnimationFrame;return e?Yr():Ur()}if(typeof t.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof t.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return t}function Yr(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function Ur(){return{next:function(t){return setTimeout(t,1e3/60)},cancel:function(t){return clearTimeout(t)}}}function Vt(){var t=new Set,e=new Set,r=0;return{next:s,cancel:s,clearAll:a};function a(){t.clear(),e.clear(),cancelAnimationFrame(r),r=0}function s(f){e.add(f),u()}function u(){r||(r=requestAnimationFrame(o))}function o(){r=0;var f=e;e=t,t=f,t.forEach(function(h){h()}),t.clear()}}var Kr=Fe.exports,$r=function(e){Gr(e);var r=Hr(e);return e.on=r.on,e.off=r.off,e.fire=r.fire,e};function Hr(t){var e=Object.create(null);return{on:function(r,a,s){if(typeof a!="function")throw new Error("callback is expected to be a function");var u=e[r];return u||(u=e[r]=[]),u.push({callback:a,ctx:s}),t},off:function(r,a){var s=typeof r>"u";if(s)return e=Object.create(null),t;if(e[r]){var u=typeof a!="function";if(u)delete e[r];else for(var o=e[r],f=0;f<o.length;++f)o[f].callback===a&&o.splice(f,1)}return t},fire:function(r){var a=e[r];if(!a)return t;var s;arguments.length>1&&(s=Array.prototype.splice.call(arguments,1));for(var u=0;u<a.length;++u){var o=a[u];o.callback.apply(o.ctx,s)}return t}}}function Gr(t){if(!t)throw new Error("Eventify cannot use falsy object as events subject");for(var e=["on","fire","off"],r=0;r<e.length;++r)if(t.hasOwnProperty(e[r]))throw new Error("Subject cannot be eventified, since it already has property '"+e[r]+"'")}var Xr=Jr;function Jr(t,e,r){typeof r!="object"&&(r={});var a=typeof r.minVelocity=="number"?r.minVelocity:5,s=typeof r.amplitude=="number"?r.amplitude:.25,u=typeof r.cancelAnimationFrame=="function"?r.cancelAnimationFrame:Qr(),o=typeof r.requestAnimationFrame=="function"?r.requestAnimationFrame:en(),f,h,d=342,g,c,p,m,_,M,B,S;return{start:Y,stop:J,cancel:V};function V(){u(g),u(S)}function Y(){f=t(),m=B=c=_=0,h=new Date,u(g),u(S),g=o(K)}function K(){var W=Date.now(),L=W-h;h=W;var D=t(),P=D.x-f.x,U=D.y-f.y;f=D;var O=1e3/(1+L);c=.8*P*O+.2*c,_=.8*U*O+.2*_,g=o(K)}function J(){u(g),u(S);var W=t();p=W.x,M=W.y,h=Date.now(),(c<-a||c>a)&&(m=s*c,p+=m),(_<-a||_>a)&&(B=s*_,M+=B),S=o(Z)}function Z(){var W=Date.now()-h,L=!1,D=0,P=0;m&&(D=-m*Math.exp(-W/d),D>.5||D<-.5?L=!0:D=m=0),B&&(P=-B*Math.exp(-W/d),P>.5||P<-.5?L=!0:P=B=0),L&&(e(p+D,M+P),S=o(Z))}}function Qr(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function en(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(t){return setTimeout(t,16)}}var tn=rn;function rn(t){if(t)return{capture:yt,release:yt};var e,r,a,s=!1;return{capture:u,release:o};function u(f){s=!0,r=window.document.onselectstart,a=window.document.ondragstart,window.document.onselectstart=wt,e=f,e.ondragstart=wt}function o(){s&&(s=!1,window.document.onselectstart=r,e&&(e.ondragstart=a))}}function wt(t){return t.stopPropagation(),!1}function yt(){}var Le,bt;function nn(){if(bt)return Le;bt=1,Le=t;function t(){this.x=0,this.y=0,this.scale=1}return Le}var Me={exports:{}},xt;function on(){if(xt)return Me.exports;xt=1,Me.exports=t,Me.exports.canAttach=e;function t(r,a){if(!e(r))throw new Error("svg element is required for svg.panzoom to work");var s=r.ownerSVGElement;if(!s)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");a.disableKeyboardInteraction||s.setAttribute("tabindex",0);var u={getBBox:f,getScreenCTM:h,getOwner:o,applyTransform:g,initTransform:d};return u;function o(){return s}function f(){var c=r.getBBox();return{left:c.x,top:c.y,width:c.width,height:c.height}}function h(){var c=s.getCTM();return c||s.getScreenCTM()}function d(c){var p=r.getCTM();p===null&&(p=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),c.x=p.e,c.y=p.f,c.scale=p.a,s.removeAttributeNS(null,"viewBox")}function g(c){r.setAttribute("transform","matrix("+c.scale+" 0 0 "+c.scale+" "+c.x+" "+c.y+")")}}function e(r){return r&&r.ownerSVGElement&&r.getCTM}return Me.exports}var Be={exports:{}},_t;function an(){if(_t)return Be.exports;_t=1,Be.exports=t,Be.exports.canAttach=e;function t(r,a){var s=e(r);if(!s)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var u=r.parentElement;r.scrollTop=0,a.disableKeyboardInteraction||u.setAttribute("tabindex",0);var o={getBBox:h,getOwner:f,applyTransform:d};return o;function f(){return u}function h(){return{left:0,top:0,width:r.clientWidth,height:r.clientHeight}}function d(g){r.style.transformOrigin="0 0 0",r.style.transform="matrix("+g.scale+", 0, 0, "+g.scale+", "+g.x+", "+g.y+")"}}function e(r){return r&&r.parentElement&&r.style}return Be.exports}var St=Or,Pe=Kr,ln=$r,cn=Xr,Wt=tn,un=Wt(),sn=Wt(!0),fn=nn(),Tt=on(),Et=an(),vn=1,dn=1.75,Ct=300,It=200,mn=jt;function jt(t,e){e=e||{};var r=e.controller;if(r||(Tt.canAttach(t)?r=Tt(t,e):Et.canAttach(t)&&(r=Et(t,e))),!r)throw new Error("Cannot create panzoom for the current type of dom element");var a=r.getOwner(),s={x:0,y:0},u=!1,o=new fn;r.initTransform&&r.initTransform(o);var f=typeof e.filterKey=="function"?e.filterKey:ve,h=typeof e.pinchSpeed=="number"?e.pinchSpeed:1,d=e.bounds,g=typeof e.maxZoom=="number"?e.maxZoom:Number.POSITIVE_INFINITY,c=typeof e.minZoom=="number"?e.minZoom:0,p=typeof e.boundsPadding=="number"?e.boundsPadding:.05,m=typeof e.zoomDoubleClickSpeed=="number"?e.zoomDoubleClickSpeed:dn,_=e.beforeWheel||ve,M=e.beforeMouseDown||ve,B=typeof e.zoomSpeed=="number"?e.zoomSpeed:vn,S=Dt(e.transformOrigin),V=e.enableTextSelection?sn:un;hn(d),e.autocenter&&Ut();var Y,K=0,J=0,Z=0,W=null,L=new Date,D,P=!1,U=!1,O,F,k,w,x,b;"smoothScroll"in e&&!e.smoothScroll?b=gn():b=cn(rr,lr,e.smoothScroll);var $,Q,H,ee=!1;Ke();var G={dispose:cr,moveBy:ae,moveTo:Ze,smoothMoveTo:ir,centerOn:ar,zoomTo:Ce,zoomAbs:Se,smoothZoom:Ee,smoothZoomAbs:hr,showRectangle:Yt,pause:_e,resume:ge,isPaused:pe,getTransform:Kt,getMinZoom:$t,setMinZoom:Ht,getMaxZoom:Gt,setMaxZoom:Xt,getTransformOrigin:Jt,setTransformOrigin:Qt,getZoomSpeed:er,setZoomSpeed:tr};ln(G);var de=typeof e.initialX=="number"?e.initialX:o.x,me=typeof e.initialY=="number"?e.initialY:o.y,he=typeof e.initialZoom=="number"?e.initialZoom:o.scale;return(de!=o.x||me!=o.y||he!=o.scale)&&Se(de,me,he),G;function _e(){$e(),ee=!0}function ge(){ee&&(Ke(),ee=!1)}function pe(){return ee}function Yt(n){var i=a.getBoundingClientRect(),l=te(i.width,i.height),v=n.right-n.left,y=n.bottom-n.top;if(!Number.isFinite(v)||!Number.isFinite(y))throw new Error("Invalid rectangle");var E=l.x/v,C=l.y/y,q=Math.min(E,C);o.x=-(n.left+v/2)*q+l.x/2,o.y=-(n.top+y/2)*q+l.y/2,o.scale=q}function te(n,i){if(r.getScreenCTM){var l=r.getScreenCTM(),v=l.a,y=l.d,E=l.e,C=l.f;s.x=n*v-E,s.y=i*y-C}else s.x=n,s.y=i;return s}function Ut(){var n,i,l=0,v=0,y=Ye();if(y)l=y.left,v=y.top,n=y.right-y.left,i=y.bottom-y.top;else{var E=a.getBoundingClientRect();n=E.width,i=E.height}var C=r.getBBox();if(!(C.width===0||C.height===0)){var q=i/C.height,le=n/C.width,re=Math.min(le,q);o.x=-(C.left+C.width/2)*re+n/2+l,o.y=-(C.top+C.height/2)*re+i/2+v,o.scale=re}}function Kt(){return o}function $t(){return c}function Ht(n){c=n}function Gt(){return g}function Xt(n){g=n}function Jt(){return S}function Qt(n){S=Dt(n)}function er(){return B}function tr(n){if(!Number.isFinite(n))throw new Error("Zoom speed should be a number");B=n}function rr(){return{x:o.x,y:o.y}}function Ze(n,i){o.x=n,o.y=i,Ne(),ie("pan"),ze()}function je(n,i){Ze(o.x+n,o.y+i)}function Ne(){var n=Ye();if(n){var i=!1,l=nr(),v=n.left-l.right;return v>0&&(o.x+=v,i=!0),v=n.right-l.left,v<0&&(o.x+=v,i=!0),v=n.top-l.bottom,v>0&&(o.y+=v,i=!0),v=n.bottom-l.top,v<0&&(o.y+=v,i=!0),i}}function Ye(){if(d){if(typeof d=="boolean"){var n=a.getBoundingClientRect(),i=n.width,l=n.height;return{left:i*p,top:l*p,right:i*(1-p),bottom:l*(1-p)}}return d}}function nr(){var n=r.getBBox(),i=or(n.left,n.top);return{left:i.x,top:i.y,right:n.width*o.scale+i.x,bottom:n.height*o.scale+i.y}}function or(n,i){return{x:n*o.scale+o.x,y:i*o.scale+o.y}}function ze(){u=!0,Y=window.requestAnimationFrame(ur)}function Ue(n,i,l){if(qe(n)||qe(i)||qe(l))throw new Error("zoom requires valid numbers");var v=o.scale*l;if(v<c){if(o.scale===c)return;l=c/o.scale}if(v>g){if(o.scale===g)return;l=g/o.scale}var y=te(n,i);if(o.x=y.x-l*(y.x-o.x),o.y=y.y-l*(y.y-o.y),d&&p===1&&c===1)o.scale*=l,Ne();else{var E=Ne();E||(o.scale*=l)}ie("zoom"),ze()}function Se(n,i,l){var v=l/o.scale;Ue(n,i,v)}function ar(n){var i=n.ownerSVGElement;if(!i)throw new Error("ui element is required to be within the scene");var l=n.getBoundingClientRect(),v=l.left+l.width/2,y=l.top+l.height/2,E=i.getBoundingClientRect(),C=E.width/2-v,q=E.height/2-y;ae(C,q,!0)}function ir(n,i){ae(n-o.x,i-o.y,!0)}function ae(n,i,l){if(!l)return je(n,i);$&&$.cancel();var v={x:0,y:0},y={x:n,y:i},E=0,C=0;$=Pe(v,y,{step:function(q){je(q.x-E,q.y-C),E=q.x,C=q.y}})}function lr(n,i){Ie(),Ze(n,i)}function cr(){$e()}function Ke(){a.addEventListener("mousedown",rt,{passive:!1}),a.addEventListener("dblclick",tt,{passive:!1}),a.addEventListener("touchstart",Ge,{passive:!1}),a.addEventListener("keydown",He,{passive:!1}),St.addWheelListener(a,lt,{passive:!1}),ze()}function $e(){St.removeWheelListener(a,lt),a.removeEventListener("mousedown",rt),a.removeEventListener("keydown",He),a.removeEventListener("dblclick",tt),a.removeEventListener("touchstart",Ge),Y&&(window.cancelAnimationFrame(Y),Y=0),b.cancel(),at(),it(),V.release(),Re()}function ur(){u&&sr()}function sr(){u=!1,r.applyTransform(o),ie("transform"),Y=0}function He(n){var i=0,l=0,v=0;if(n.keyCode===38?l=1:n.keyCode===40?l=-1:n.keyCode===37?i=1:n.keyCode===39?i=-1:n.keyCode===189||n.keyCode===109?v=1:(n.keyCode===187||n.keyCode===107)&&(v=-1),!f(n,i,l,v)){if(i||l){n.preventDefault(),n.stopPropagation();var y=a.getBoundingClientRect(),E=Math.min(y.width,y.height),C=.05,q=E*C*i,le=E*C*l;ae(q,le)}if(v){var re=ct(v*100),E=S?ye():fr();Ce(E.x,E.y,re)}}}function fr(){var n=a.getBoundingClientRect();return{x:n.width/2,y:n.height/2}}function Ge(n){if(vr(n),we(),n.touches.length===1)return mr(n,n.touches[0]);n.touches.length===2&&(x=et(n.touches[0],n.touches[1]),H=!0,Xe())}function vr(n){e.onTouch&&!e.onTouch(n)||(n.stopPropagation(),n.preventDefault())}function dr(n){we(),!(e.onDoubleClick&&!e.onDoubleClick(n))&&(n.preventDefault(),n.stopPropagation())}function mr(n){J=new Date;var i=n.touches[0],l=X(i);D=l;var v=te(l.x,l.y);O=v.x,F=v.y,k=O,w=F,b.cancel(),Xe()}function Xe(){P||(P=!0,document.addEventListener("touchmove",Je),document.addEventListener("touchend",Te),document.addEventListener("touchcancel",Te))}function Je(n){if(n.touches.length===1){n.stopPropagation();var i=n.touches[0],l=X(i),v=te(l.x,l.y),y=v.x-O,E=v.y-F;y!==0&&E!==0&&ut(),O=v.x,F=v.y,ae(y,E)}else if(n.touches.length===2){H=!0;var C=n.touches[0],q=n.touches[1],le=et(C,q),re=1+(le/x-1)*h,st=X(C),ft=X(q);if(O=(st.x+ft.x)/2,F=(st.y+ft.y)/2,S){var l=ye();O=l.x,F=l.y}Ce(O,F,re),x=le,n.stopPropagation(),n.preventDefault()}}function we(){Z&&(clearTimeout(Z),Z=0)}function Qe(n){if(e.onClick){we();var i=O-k,l=F-w,v=Math.sqrt(i*i+l*l);v>5||(Z=setTimeout(function(){Z=0,e.onClick(n)},Ct))}}function Te(n){if(we(),n.touches.length>0){var i=X(n.touches[0]),l=te(i.x,i.y);O=l.x,F=l.y}else{var v=new Date;if(v-K<Ct)if(S){var i=ye();Ee(i.x,i.y,m)}else Ee(D.x,D.y,m);else v-J<It&&Qe(n);K=v,Re(),it()}}function et(n,i){var l=n.clientX-i.clientX,v=n.clientY-i.clientY;return Math.sqrt(l*l+v*v)}function tt(n){dr(n);var i=X(n);S&&(i=ye()),Ee(i.x,i.y,m)}function rt(n){if(we(),!M(n)){if(W=n,L=new Date,P)return n.stopPropagation(),!1;var i=n.button===1&&window.event!==null||n.button===0;if(i){b.cancel();var l=X(n),v=te(l.x,l.y);return k=O=v.x,w=F=v.y,document.addEventListener("mousemove",nt),document.addEventListener("mouseup",ot),V.capture(n.target||n.srcElement),!1}}}function nt(n){if(!P){ut();var i=X(n),l=te(i.x,i.y),v=l.x-O,y=l.y-F;O=l.x,F=l.y,ae(v,y)}}function ot(){var n=new Date;n-L<It&&Qe(W),V.release(),Re(),at()}function at(){document.removeEventListener("mousemove",nt),document.removeEventListener("mouseup",ot),U=!1}function it(){document.removeEventListener("touchmove",Je),document.removeEventListener("touchend",Te),document.removeEventListener("touchcancel",Te),U=!1,H=!1,P=!1}function lt(n){if(!_(n)){b.cancel();var i=n.deltaY;n.deltaMode>0&&(i*=100);var l=ct(i);if(l!==1){var v=S?ye():X(n);Ce(v.x,v.y,l),n.preventDefault()}}}function X(n){var i,l,v=a.getBoundingClientRect();return i=n.clientX-v.left,l=n.clientY-v.top,{x:i,y:l}}function Ee(n,i,l){var v=o.scale,y={scale:v},E={scale:l*v};b.cancel(),Ie(),Q=Pe(y,E,{step:function(C){Se(n,i,C.scale)},done:gr})}function hr(n,i,l){var v=o.scale,y={scale:v},E={scale:l};b.cancel(),Ie(),Q=Pe(y,E,{step:function(C){Se(n,i,C.scale)}})}function ye(){var n=a.getBoundingClientRect();return{x:n.width*S.x,y:n.height*S.y}}function Ce(n,i,l){return b.cancel(),Ie(),Ue(n,i,l)}function Ie(){Q&&(Q.cancel(),Q=null)}function ct(n){var i=Math.sign(n),l=Math.min(.25,Math.abs(B*n/128));return 1-i*l}function ut(){U||(ie("panstart"),U=!0,b.start())}function Re(){U&&(H||b.stop(),ie("panend"))}function gr(){ie("zoomend")}function ie(n){G.fire(n,G)}}function Dt(t){if(t){if(typeof t=="object")return(!fe(t.x)||!fe(t.y))&&Mt(t),t;Mt()}}function Mt(t){throw console.error(t),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function ve(){}function hn(t){var e=typeof t;if(!(e==="undefined"||e==="boolean")){var r=fe(t.left)&&fe(t.top)&&fe(t.bottom)&&fe(t.right);if(!r)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function fe(t){return Number.isFinite(t)}function qe(t){return Number.isNaN?Number.isNaN(t):t!==t}function gn(){return{start:ve,stop:ve,cancel:ve}}function pn(){if(typeof document>"u")return;var t=document.getElementsByTagName("script");if(!t)return;for(var e,r=0;r<t.length;++r){var a=t[r];if(a.src&&a.src.match(/\bpanzoom(\.min)?\.js/)){e=a;break}}if(!e)return;var s=e.getAttribute("query");if(!s)return;var u=e.getAttribute("name")||"pz",o=Date.now();f();function f(){var g=document.querySelector(s);if(!g){var c=Date.now(),p=c-o;if(p<2e3){setTimeout(f,100);return}console.error("Cannot find the panzoom element",u);return}var m=h(e);console.log(m),window[u]=jt(g,m)}function h(g){for(var c=g.attributes,p={},m=0;m<c.length;++m){var _=c[m],M=d(_);M&&(p[M.name]=M.value)}return p}function d(g){if(g.name){var c=g.name[0]==="p"&&g.name[1]==="z"&&g.name[2]==="-";if(c){var p=g.name.substr(3),m=JSON.parse(g.value);return{name:p,value:m}}}}}pn();const wn=kr(mn);function Bt(t,e,r){const a=t.slice();return a[8]=e[r],a[9]=e,a[10]=r,a}function kt(t){let e,r,a;function s(o){t[4](o,t[8],t[9],t[10])}let u={scale:t[3]};return t[8]!==void 0&&(u.device=t[8]),e=new Br({props:u}),Nt.push(()=>br(e,"device",s)),{c(){xr(e.$$.fragment)},l(o){_r(e.$$.fragment,o)},m(o,f){Sr(e,o,f),a=!0},p(o,f){t=o;const h={};f&8&&(h.scale=t[3]),!r&&f&1&&(r=!0,h.device=t[8],Tr(()=>r=!1)),e.$set(h)},i(o){a||(ke(e.$$.fragment,o),a=!0)},o(o){Ve(e.$$.fragment,o),a=!1},d(o){Er(e,o)}}}function yn(t){let e,r,a,s,u,o,f,h=t[0].devices,d=[];for(let c=0;c<h.length;c+=1)d[c]=kt(Bt(t,h,c));const g=c=>Ve(d[c],1,1,()=>{d[c]=null});return{c(){e=N("div"),r=N("div"),a=N("div"),s=N("div");for(let c=0;c<d.length;c+=1)d[c].c();this.h()},l(c){e=z(c,"DIV",{class:!0});var p=R(e);r=z(p,"DIV",{});var m=R(r);a=z(m,"DIV",{class:!0});var _=R(a);s=z(_,"DIV",{class:!0});var M=R(s);for(let B=0;B<d.length;B+=1)d[B].l(M);M.forEach(A),_.forEach(A),m.forEach(A),p.forEach(A),this.h()},h(){j(s,"class","flex gap-10"),j(a,"class","text-center h-full w-full grid items-center justify-items-center"),j(e,"class","h-screen w-screen absolute overflow-clip")},m(c,p){We(c,e,p),T(e,r),T(r,a),T(a,s);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(s,null);t[7](r),u=!0,o||(f=[dt(a,"scroll",t[5]),dt(r,"scroll",t[6])],o=!0)},p(c,[p]){if(p&9){h=c[0].devices;let m;for(m=0;m<h.length;m+=1){const _=Bt(c,h,m);d[m]?(d[m].p(_,p),ke(d[m],1)):(d[m]=kt(_),d[m].c(),ke(d[m],1),d[m].m(s,null))}for(Cr(),m=h.length;m<d.length;m+=1)g(m);pr()}},i(c){if(!u){for(let p=0;p<h.length;p+=1)ke(d[p]);u=!0}},o(c){d=d.filter(Boolean);for(let p=0;p<d.length;p+=1)Ve(d[p]);u=!1},d(c){c&&A(e),Zt(d,c),t[7](null),o=!1,wr(f)}}}function bn(t,e,r){const a={devices:[{date:new Date,deviceId:"CBRXX1",engineId:"Cobb_mix_2403_final",currentSessionId:"jetson_v4.10.7.28_CGBRNT",shardId:"0003",actions:["S+","C+","3+","U-"]},{date:new Date,deviceId:"CBRXX1",engineId:"Cobb_mix_2403_final",currentSessionId:"jetson_v4.10.7.28_CGBRNT",shardId:"0003",actions:["S+","C+","3+","U-"]},{date:new Date,deviceId:"CBRXX1",engineId:"Cobb_mix_2403_final",currentSessionId:"jetson_v4.10.7.28_CGBRNT",shardId:"0003",actions:["S+","C+","3+","U-"]}]};let s,u=null,o=1;yr(()=>{r(2,u=wn(s,{initialZoom:1})),u.on("zoom",()=>{u&&r(3,o=u.getTransform().scale)})});function f(c,p,m,_){m[_]=c,r(0,a)}const h=c=>{console.log(c),console.log(u==null?void 0:u.getTransform().scale)},d=c=>{console.log(c),console.log(u==null?void 0:u.getTransform().scale)};function g(c){Nt[c?"unshift":"push"](()=>{s=c,r(1,s)})}return[a,s,u,o,f,h,d,g]}class _n extends At{constructor(e){super(),Ot(this,e,bn,yn,Ft,{})}}export{_n as component};
